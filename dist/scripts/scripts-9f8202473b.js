"use strict";angular.module("cobagulpApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","services"]).config(["$routeProvider",function(t){t.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/detail/:siswaId",{templateUrl:"views/detail.html",controller:"SiswaDetailCtrl",controllerAs:"detail"}).when("/detail/:siswaId/:kitabId",{templateUrl:"views/detail-kitab.html",controller:"SiswaDetailKitabCtrl",controllerAs:"detailkitab"}).when("/registration",{templateUrl:"views/registration.html",controller:"RegistrationCtrl",controllerAs:"registration"}).otherwise({redirectTo:"/"})}]),angular.module("cobagulpApp").controller("MainCtrl",["$scope",function(t){t.todos=["Item 1","Item 2","Item 3"],t.addTodo=function(){t.todos.push(t.todo),t.todo=""},t.removeTodo=function(r){t.todos.splice(r,1)}}]).controller("CobaCtrl",["$scope",function(t){t.judul="Makna kitabussholah",t.journals=[{id:"1",hal:1,checked:!0},{id:"10",hal:10,checked:!0}],t.get=function(r){for(var a=0;a<t.journals.length;a++)if(t.journals[a].hal===r)return t.journals[a];var e={id:"",hal:r,checked:!1};return e}}]).controller("HeaderController",["$scope","$location",function(t,r){t.isActive=function(t){return t===r.path()}}]).controller("RegistrationCtrl",["$scope","Siswas","$location","$window",function(t,r,a,e){t.siswa={};var n=r.getLastId()+1;t.siswa.id=n,t.add=function(){r.add(t.siswa),e.alert("insert success"),a.path("/")}}]).controller("SiswaListCtrl",["$scope","Siswas",function(t,r){t.judul="Siswa List",t.siswaList=r.getList()}]).controller("SiswaDetailCtrl",["$scope","$routeParams","Siswas","MasterKitab","Journals","$window",function(t,r,a,e,n,i){t.judul="Siswa Detail",t.siswaId=r.siswaId,t.siswa=angular.copy(a.getById(t.siswaId)),t.kitabList=e.getList(),t.JournalList=n.getByUserId(t.siswaId),t.update=function(){a.update(t.siswa),i.alert("success update!")},t.journalListCount=function(r,a){var e=0;if(null===t.JournalList);else for(var n=0;n<t.JournalList.length;n++)t.JournalList[n].kitabId===a&&t.JournalList[n].UserId===r&&t.JournalList[n].checked&&(e+=1);return e}}]).controller("SiswaDetailKitabCtrl",["$scope","$routeParams","Siswas","MasterKitab","Journals","$window",function(t,r,a,e,n,i){t.siswaId=r.siswaId,t.kitabId=r.kitabId,t.siswa=a.getById(t.siswaId),t.kitab=e.getById(t.kitabId),t.JournalList=angular.copy(n.getByUserIdKitabId(t.siswaId,t.kitabId)),t.saveJournal=function(){for(var r=0;r<t.JournalList.length;r++)if(""!==t.JournalList[r].id)n.update(t.JournalList[r]);else if(t.JournalList[r].checked){var a=n.getLastId();t.JournalList[r].id="J00"+(a+1),n.add(angular.copy(t.JournalList[r]))}t.JournalList=angular.copy(n.getByUserIdKitabId(t.siswaId,t.kitabId)),i.alert(n.getList().length)}}]).filter("range",function(){return function(t,r){r=parseInt(r);for(var a=1;r+1>a;a++)t.push(a);return t}}).filter("num",function(){return function(t){return parseInt(t,10)}}),angular.module("cobagulpApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("services",[]).factory("MasterKitab",function(){var t=[{id:"K001",Name:"Kitabussholah",Target:20},{id:"K002",Name:"Kitab Adab",Target:15},{id:"K003",Name:"Kitab Adillah",Target:12}];return{getList:function(){return t},getById:function(r){for(var a=0;a<t.length;a++)if(t[a].id===r)return t[a];return null}}}).factory("Siswas",function(){var t=[{id:1,Nama:"Andi Marjono",Gender:"Pria",Universitas:"STAN",Alamat:"Alamat rumah",Phone:"",Ayah:"",Ibu:"",Umur:0},{id:2,Nama:"Doni Febrian",Gender:"Pria",Universitas:"STAN",Alamat:"Alamat rumah",Phone:"",Ayah:"",Ibu:"",Umur:0},{id:3,Nama:"Permadi Wibisono",Gender:"Pria",Universitas:"STAN",Alamat:"Alamat rumah",Phone:"",Ayah:"",Ibu:"",Umur:0}];return{getList:function(){return t},add:function(r){t.push(r)},update:function(r){for(var a=0;a<t.length;a++)if(t[a].id===parseInt(r.id))return t[a]=r},getLastId:function(){for(var r=0,a=0;a<t.length;a++){var e=t[a].id,n=parseInt(e);n>r&&(r=n)}return r},remove:function(r){t.slice(t,r)},getById:function(r){for(var a=0;a<t.length;a++)if(t[a].id===parseInt(r))return t[a];return null}}}).factory("Journals",["MasterKitab","$log",function(t,r){var a=[{id:"J001",UserId:1,kitabId:"K001",hal:2,checked:!0},{id:"J002",UserId:1,kitabId:"K001",hal:4,checked:!0}];return{getList:function(){return a},add:function(t){a.push(t)},remove:function(t){a.slice(a,t)},update:function(t){for(var r=0;r<a.length;r++)if(a[r].id===t.id)return a[r]=t},getByUserId:function(t){for(var r=new Array,e=0;e<a.length;e++)a[e].UserId===parseInt(t)&&r.push(a[e]);return r},getById:function(t){for(var r=new Array,e=0;e<a.length;e++)a[e].id===t&&r.push(a[e]);return r},getLastId:function(){for(var t=0,r=0;r<a.length;r++){var e=a[r].id.substr(1,a[r].id.length-1),n=parseInt(e);n>t&&(t=n)}return t},getByUserIdKitabId:function(e,n){for(var i=new Array,o=t.getById(n),s=0;s<o.Target;s++){for(var l=!1,u=0;u<a.length;u++)if(a[u].UserId===parseInt(e)&&a[u].kitabId===n&&a[u].hal===s+1){r.warn(a),i.push(a[u]),l=!0;break}if(!l){var d={id:"",UserId:parseInt(e),kitabId:n,hal:s+1,checked:!1};i.push(d)}}return i}}}]);